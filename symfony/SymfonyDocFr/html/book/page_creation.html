

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>La création de pages avec Symfony2 &mdash; sf2doc 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="sf2doc 1.0 documentation" href="../index.html" />
    <link rel="up" title="Book" href="index.html" />
    <link rel="next" title="Le Contrôleur" href="controller.html" />
    <link rel="prev" title="Installer et Configurer Symfony" href="installation.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="controller.html" title="Le Contrôleur"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installer et Configurer Symfony"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">sf2doc 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Book</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="la-creation-de-pages-avec-symfony2">
<span id="index-0"></span><h1>La création de pages avec Symfony2<a class="headerlink" href="#la-creation-de-pages-avec-symfony2" title="Permalink to this headline">¶</a></h1>
<p>Créer des pages avec Symfony2 se fait en simplement deux étapes :</p>
<ul class="simple">
<li><em>Créez une route</em> : Une route définit l&#8217;URL (ex: <tt class="docutils literal"><span class="pre">/apropos</span></tt>) pour votre
page et spécifie un contrôleur (une fonction PHP) que Symfony2 devrait
exécuter quand l&#8217;URL d&#8217;une requête HTTP correspond à une route que vous
avez définie.</li>
<li><em>Créez un contrôleur</em> : Un contrôleur est une fonction PHP qui traitera la
requête HTTP et la transformera en un objet <tt class="docutils literal"><span class="pre">Response</span></tt> Symfony2 qui sera
retourné à l&#8217;utilisateur.</li>
</ul>
<p>Cette approche très simple est excellente car elle correspond à la façon dont
fonctionne le Web. Chaque interaction sur le Web est initiée par une requête
HTTP. Le but de votre application est simplement d&#8217;interpréter cette requête
et de lui retourner une Response HTTP appropriée.</p>
<p>Symfony2 suit cette philosophie et vous fournit des outils et conventions pour
garder votre application organisée tout en pouvant devenir plus complexe et fréquentée.</p>
<p>Cela vous parait suffisamment simple ? Alors allons-y !</p>
<div class="section" id="la-page-hello-symfony">
<span id="index-1"></span><h2>La page « Hello Symfony ! »<a class="headerlink" href="#la-page-hello-symfony" title="Permalink to this headline">¶</a></h2>
<p>Commençons avec une application traditionnelle « Hello World ! ». Quand nous
aurons terminé, l&#8217;utilisateur sera capable de reçevoir un message de
salutation personnalisé (ex « Hello Symfony ») en se rendant à l&#8217;URL suivante :</p>
<div class="highlight-text"><div class="highlight"><pre>http://localhost/app_dev.php/hello/Symfony
</pre></div>
</div>
<p>En fait, vous serez capable de pouvoir remplacer <tt class="docutils literal"><span class="pre">Symfony</span></tt> par n&#8217;importe
quel autre nom qui doit être salué. Afin de créer cette page, suivez ce simple
processus en deux étapes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Ce tutoriel suppose que vous ayez déjà téléchargé et configuré
Symfony2 sur votre serveur web. L&#8217;URL ci-dessus suppose que <tt class="docutils literal"><span class="pre">localhost</span></tt>
pointe vers le répertoire <tt class="docutils literal"><span class="pre">web</span></tt> de votre nouveau projet Symfony2.
Pour des instructions détaillées à ce sujet, rendez vous dans la section
traitant de la documentation <a class="reference internal" href="installation.html"><em>Installez Symfony2</em></a>.</p>
</div>
<div class="section" id="avant-de-commencer-creez-un-bundle">
<h3>Avant de commencer : Créez un Bundle<a class="headerlink" href="#avant-de-commencer-creez-un-bundle" title="Permalink to this headline">¶</a></h3>
<p>Avant de commencer, vous devez créer un <em>bundle</em>. Dans Symfony2, un <a class="reference internal" href="../glossary.html#term-bundle"><em class="xref std std-term">bundle</em></a>
est comme un plugin, excepté le fait que tout le code de votre application
siègera dans un bundle.</p>
<p>Un bundle n&#8217;est rien d&#8217;autre qu&#8217;un répertoire qui contient tout ce qui est relatif
à une fonctionnalité spécifique, ce qui inclut les classes PHP, la configuration
et même les feuilles de style et le javascript (voir <a class="reference internal" href="#page-creation-bundles"><em>Le Système de Bundles</em></a>).</p>
<p>Afin de créer un bundle nommé <tt class="docutils literal"><span class="pre">AcmeHelloBundle</span></tt> (un bundle fictif que vous
créerez dans ce chapitre), lancez la commande suivante et suivez les instructions
affichées à l&#8217;écran (choisissez les options par défaut) :</p>
<div class="highlight-bash"><div class="highlight"><pre>php app/console generate:bundle --namespace<span class="o">=</span>Acme/HelloBundle --format<span class="o">=</span>yml
</pre></div>
</div>
<p>Un répertoire <tt class="docutils literal"><span class="pre">src/Acme/HelloBundle</span></tt> est créé pour le bundle. Une ligne est aussi
automatiquement ajoutée au fichier <tt class="docutils literal"><span class="pre">app/AppKernel.php</span></tt> afin que le bundle soit
correctement enregistré:</p>
<div class="highlight-python"><pre>// app/AppKernel.php
public function registerBundles()
{
    $bundles = array(
        // ...
        new Acme\HelloBundle\AcmeHelloBundle(),
    );
    // ...

    return $bundles;
}</pre>
</div>
<p>Maintenant que votre bundle est mis en place, vous pouvez commencer à
construire votre application à l&#8217;intérieur du bundle.</p>
</div>
<div class="section" id="etape-1-creez-la-route">
<h3>Etape 1 : Créez la Route<a class="headerlink" href="#etape-1-creez-la-route" title="Permalink to this headline">¶</a></h3>
<p>Dans une application Symfony2, le fichier de configuration des routes
se trouve par défaut dans <tt class="docutils literal"><span class="pre">app/config/routing.yml</span></tt>. Comme toute
configuration dans Symfony2, vous pouvez également choisir d&#8217;utiliser
des fichiers XML ou PHP afin de configurer vos routes.</p>
<p>Si vous regardez le fichier de routage principal, vous verrez que Symfony a déjà
ajouté une entrée lorsque vous avez généré le <tt class="docutils literal"><span class="pre">AcmeHelloBundle</span></tt> :</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/routing.yml</span>
 <span class="l-Scalar-Plain">AcmeHelloBundle</span><span class="p-Indicator">:</span>
     <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;@AcmeHelloBundle/Resources/config/routing.yml&quot;</span>
     <span class="l-Scalar-Plain">prefix</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">/</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>

<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;@AcmeHelloBundle/Resources/config/routing.xml&quot;</span> <span class="na">prefix=</span><span class="s">&quot;/&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">// app/config/routing.php</span>
<span class="x">use Symfony\Component\Routing\RouteCollection;</span>
<span class="x">use Symfony\Component\Routing\Route;</span>

<span class="x">$collection = new RouteCollection();</span>
<span class="x">$collection-&gt;addCollection(</span>
<span class="x">    $loader-&gt;import(&#39;@AcmeHelloBundle/Resources/config/routing.php&#39;),</span>
<span class="x">    &#39;/&#39;,</span>
<span class="x">);</span>
<span class="x">return $collection;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Ce code est très basique : il dit à Symfony de charger la configuration de routage
depuis le fichier <tt class="docutils literal"><span class="pre">Resources/config/routing.yml</span></tt> qui se trouve dans le <tt class="docutils literal"><span class="pre">AcmeHelloBundle</span></tt>.
Cela signifie que vous pouvez placer votre configuration de routage directement
dans le fichier <tt class="docutils literal"><span class="pre">app/config/routing.yml</span></tt> ou organiser vos routes dans votre
applications et les importer depuis ce fichier.</p>
<p>Maintenant que le fichier <tt class="docutils literal"><span class="pre">routing.yml</span></tt> du bundle est importé, ajoutez la nouvelle
route qui définit l&#8217;URL de la page que vous êtes sur le point de créer :</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># src/Acme/HelloBundle/Resources/config/routing.yml</span>
<span class="l-Scalar-Plain">hello</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">/hello/{name}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">AcmeHelloBundle</span><span class="p-Indicator">:</span><span class="nv">Hello</span><span class="p-Indicator">:</span><span class="nv">index</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/HelloBundle/Resources/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>

<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;hello&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/hello/{name}&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AcmeHelloBundle:Hello:index<span class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">// src/Acme/HelloBundle/Resources/config/routing.php</span>
<span class="x">use Symfony\Component\Routing\RouteCollection;</span>
<span class="x">use Symfony\Component\Routing\Route;</span>

<span class="x">$collection = new RouteCollection();</span>
<span class="x">$collection-&gt;add(&#39;hello&#39;, new Route(&#39;/hello/{name}&#39;, array(</span>
<span class="x">    &#39;_controller&#39; =&gt; &#39;AcmeHelloBundle:Hello:index&#39;,</span>
<span class="x">)));</span>

<span class="x">return $collection;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Le routage est constitué de deux parties principales : le <tt class="docutils literal"><span class="pre">pattern</span></tt>, qui est
l&#8217;URL correspondante à cette route, et un tableau <tt class="docutils literal"><span class="pre">par</span> <span class="pre">défaut</span></tt>, qui spécifie
le contrôleur qui devra être exécuté. La syntaxe pour le paramètre dans le
pattern (<tt class="docutils literal"><span class="pre">{name}</span></tt>) est un joker. Cela signifie que <tt class="docutils literal"><span class="pre">hello/Ryan</span></tt>, <tt class="docutils literal"><span class="pre">hello/Bernard</span></tt>
ou n&#8217;importe quelle URL similaire correspondra à cette route. Le paramètre <tt class="docutils literal"><span class="pre">{name}</span></tt>
sera également passé à notre contrôleur afin que nous puissions utiliser la valeur
afin de saluer l&#8217;utilisateur.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Le système de routage dispose de beaucoup d&#8217;autres fonctionnalités
qui vous permettront de créer des structures d&#8217;URL puissantes et flexibles
dans votre application. Pour plus de détails, lisez le chapitre dédié
aux routes <a class="reference internal" href="routing.html"><em>Routing</em></a>.</p>
</div>
</div>
<div class="section" id="etape-2-creez-le-controleur">
<h3>Etape 2 : Créez le Contrôleur<a class="headerlink" href="#etape-2-creez-le-controleur" title="Permalink to this headline">¶</a></h3>
<p>Quand une URL comme <tt class="docutils literal"><span class="pre">/hello/Ryan</span></tt> est traitée par l&#8217;application, la route
<tt class="docutils literal"><span class="pre">hello</span></tt> est reconnue et le contrôleur <tt class="docutils literal"><span class="pre">AcmeHelloBundle:Hello/index</span></tt>
est exécuté par le framework. L&#8217;étape suivante est de créer ce contrôleur.</p>
<p>Le contrôleur - <tt class="docutils literal"><span class="pre">AcmeHelloBundle:Hello:index</span></tt> est le nom <em>logique</em> du contrôleur,
et il est associé à la méthode <tt class="docutils literal"><span class="pre">indexAction</span></tt> d&#8217;une classe PHP appelée
<tt class="docutils literal"><span class="pre">Acme\HelloBundle\Controller\Hello</span></tt>. Commencez par créer ce fichier dans votre
<tt class="docutils literal"><span class="pre">AcmeHelloBundle</span></tt> :</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// src/Acme/HelloBundle/Controller/HelloController.php</span>
<span class="x">namespace Acme\HelloBundle\Controller;</span>

<span class="x">use Symfony\Component\HttpFoundation\Response;</span>

<span class="x">class HelloController</span>
<span class="x">{</span>
<span class="x">}</span>
</pre></div>
</div>
<p>En réalité, un contrôleur n&#8217;est rien d&#8217;autre qu&#8217;une méthode PHP que vous créez
et que Symfony exécute. C&#8217;est à cet endroit que le code propre à l&#8217;application
utilisera les informations de la requête afin de construire et préparer la
ressource demandée par la requête. Excepté dans certaines situations avancées,
le résultat final d&#8217;un contrôleur sera toujours le même :
un objet <tt class="docutils literal"><span class="pre">Response</span></tt> Symfony2.</p>
<p>Créez la méthode <tt class="docutils literal"><span class="pre">indexAction</span></tt> que Symfony exécutera lorsque la route <tt class="docutils literal"><span class="pre">hello</span></tt>
sera identifiée :</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// src/Acme/HelloBundle/Controller/HelloController.php</span>
<span class="x">namespace Acme\HelloBundle\Controller;</span>

<span class="x">use Symfony\Component\HttpFoundation\Response;</span>

<span class="x">class HelloController</span>
<span class="x">{</span>
<span class="x">    public function indexAction($name)</span>
<span class="x">    {</span>
<span class="x">        return new Response(&#39;&lt;html&gt;&lt;body&gt;Hello &#39;.$name.&#39;!&lt;/body&gt;&lt;/html&gt;&#39;);</span>
<span class="x">    }</span>
<span class="x">}</span>
</pre></div>
</div>
<p>Le contrôleur est simple : il crée un nouvel objet <tt class="docutils literal"><span class="pre">Response</span></tt> qui a pour
premier argument le contenu qui doit être utilisé dans la réponse (une petite
page HTML dans notre cas).</p>
<p>Félicitations ! Après avoir n&#8217;avoir créé qu&#8217;une route et un contrôleur, vous
avez une page pleinement fonctionnelle ! Si vous avez tout effectué correctement,
votre application devrait vous saluer:</p>
<div class="highlight-python"><pre>http://localhost/app_dev.php/hello/Ryan</pre>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>Vous pouvez aussi voir votre application en <a class="reference internal" href="#environments-summary"><em>environnement</em></a>
de « prod » en allant à l&#8217;adresse :</p>
<div class="highlight-text"><div class="highlight"><pre>http://localhost/app.php/hello/Ryan
</pre></div>
</div>
<p>Si vous avez une erreur, c&#8217;est certainement parce que vous avez besoin de vider
votre cache grâce à la commande :</p>
<div class="last highlight-bash"><div class="highlight"><pre>php app/console cache:clear --env<span class="o">=</span>prod --no-debug
</pre></div>
</div>
</div>
<p>Une troisième étape optionelle dans ce processus est de créer un template.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les contrôleurs sont le point central de votre code et un élément clé
de la création de pages. Pour plus d&#8217;informations lisez le chapitre
<a class="reference internal" href="controller.html"><em>Chapitre Contrôleurs</em></a>.</p>
</div>
</div>
<div class="section" id="etape-3-facultative-creez-le-template">
<h3>Etape 3 facultative : Créez le Template<a class="headerlink" href="#etape-3-facultative-creez-le-template" title="Permalink to this headline">¶</a></h3>
<p>Les templates vous permettent de déplacer toute la présentation (ex: code HTML)
dans un fichier séparé et de réutiliser différentes portions d&#8217;un layout.
A la place d&#8217;écrire le code HTML dans le contrôleur, retournez plutôt un template :</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="x">// src/Acme/HelloBundle/Controller/HelloController.php</span>

<span class="x">namespace Acme\HelloBundle\Controller;</span>

<span class="x">use Symfony\Bundle\FrameworkBundle\Controller\Controller;</span>

<span class="x">class HelloController extends Controller</span>
<span class="x">{</span>
<span class="x">    public function indexAction($name)</span>
<span class="x">    {</span>
<span class="x">        return $this-&gt;render(&#39;AcmeHelloBundle:Hello:index.html.twig&#39;, array(&#39;name&#39; =&gt; $name));</span>

<span class="x">        // render a PHP template instead</span>
<span class="x">        // return $this-&gt;render(&#39;AcmeHelloBundle:Hello:index.html.php&#39;, array(&#39;name&#39; =&gt; $name));</span>
<span class="x">    }</span>
<span class="x">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Afin d&#8217;utiliser la méthode <tt class="docutils literal"><span class="pre">render()</span></tt>, votre contrôleur doit étendre la classe
<cite>SymfonyBundleFrameworkBundleControllerController`</cite> (API
docs: <tt class="xref py py-class docutils literal"><span class="pre">Symfony\Bundle\FrameworkBundle\Controller\Controller</span></tt>), qui
ajoute des raccourcis pour des tâches fréquemment utilisées dans les contrôleurs.
Dans l&#8217;exemple ci-dessus, c&#8217;est ce qui est fait en ajoutant la ligne <tt class="docutils literal"><span class="pre">use</span></tt>
et en étendant la classe <tt class="docutils literal"><span class="pre">Controller</span></tt> à la ligne 6.</p>
</div>
<p>La méthode <tt class="docutils literal"><span class="pre">render()</span></tt> crée un objet <tt class="docutils literal"><span class="pre">Response</span></tt> qui contient le contenu
d&#8217;un template rendu. Comme tout autre contrôleur, vous retournerez cet objet
<tt class="docutils literal"><span class="pre">Response</span></tt>.</p>
<p>Notez qu&#8217;il y a deux différents exemples afin de rendre un template.
Par défaut, Symfony2 supporte deux langages différents de templates :
les templates classiques PHP et les simples mais puissants templates <tt class="docutils literal"><span class="pre">Twig</span></tt>.
Ne paniquez pas, vous êtes libres de choisir celui que vous désirez
voire les deux.</p>
<p>Le contrôleur rend le template <tt class="docutils literal"><span class="pre">AcmeHelloBundle:Hello:index.html.twig</span></tt>,
qui suit la convention de nommage :</p>
<blockquote>
<div><strong>NomBundle</strong>:<strong>NomControleur</strong>:<strong>NomTemplate</strong></div></blockquote>
<p>C&#8217;est le nom <em>logique</em> du template, qui est associé à une location physique selon
la convention suivante.</p>
<blockquote>
<div><strong>/chemin/vers/NomBundle</strong>/Resources/views/<strong>NomControleur</strong>/<strong>NomTemplate</strong></div></blockquote>
<p>Dans ce cas, <tt class="docutils literal"><span class="pre">AcmeHelloBundle</span></tt> est le nom de bundle, <tt class="docutils literal"><span class="pre">Hello</span></tt> est le
nom du contrôleur et enfin <tt class="docutils literal"><span class="pre">index.html.twig</span></tt> est le template :</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="x"> </span><span class="c">{# src/Acme/HelloBundle/Resources/views/Hello/index.html.twig #}</span><span class="x"></span>
<span class="x"> </span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;::base.html.twig&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="x"> </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">     Hello </span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">!</span>
<span class="x"> </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;!-- src/Acme/HelloBundle/Resources/views/Hello/index.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;::base.html.php&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Hello </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">!</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Analysons maintenant le template Twig ligne par ligne :</p>
<ul class="simple">
<li><em>Ligne 2</em> : Le symbole <tt class="docutils literal"><span class="pre">extends</span></tt> définit un template parent. Le template
définit explicitement un fichier layout dans lequel il sera inséré.</li>
<li><em>Ligne 4</em> : Le symbole <tt class="docutils literal"><span class="pre">block</span></tt> indique que tout ce qui est à l&#8217;intérieur doit
être placé à l&#8217;intérieur d&#8217;un bloc appelé <tt class="docutils literal"><span class="pre">body</span></tt>. Comme vous le voyez, c&#8217;est
en définitive la responsabilité du template parent (<tt class="docutils literal"><span class="pre">base.html.twig</span></tt>) de rendre
le bloc <tt class="docutils literal"><span class="pre">body</span></tt>.</li>
</ul>
<p>Le nom de fichier du template parent, <tt class="docutils literal"><span class="pre">::base.html.twig</span></tt>, est dispensé des portions
<strong>NomBundle</strong> et <strong>NomControleur</strong> (remarquez les deux points (<tt class="docutils literal"><span class="pre">::</span></tt>) au début). Ceci
signifie que le template se situe en dehors du bundle et dans le répertoire <tt class="docutils literal"><span class="pre">app</span></tt>.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# app/Resources/views/base.html.twig #}</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>Welcome!<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="nt">&lt;/title&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;shortcut icon&quot;</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;favicon.ico&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">javascripts</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;!-- app/Resources/views/base.html.php --&gt;</span>
<span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html&gt;</span>
<span class="x">    &lt;head&gt;</span>
<span class="x">        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</span>
<span class="x">        &lt;title&gt;</span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;Welcome!&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/title&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;stylesheets&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        &lt;link rel=&quot;shortcut icon&quot; href=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span class="p">(</span><span class="s1">&#39;favicon.ico&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&quot; /&gt;</span>
<span class="x">    &lt;/head&gt;</span>
<span class="x">    &lt;body&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;_content&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;stylesheets&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Le fichier du template de base définit le layout HTML en rend le bloc <tt class="docutils literal"><span class="pre">body</span></tt>
que vous avez défini dans le template <tt class="docutils literal"><span class="pre">index.html.twig</span></tt>. Il rend également
un bloc <tt class="docutils literal"><span class="pre">title</span></tt>, que vous pouvez choisir de définir dans le template
<tt class="docutils literal"><span class="pre">index.html.twig</span></tt>. Si vous ne définissez pas le bloc <tt class="docutils literal"><span class="pre">title</span></tt> dans le template
enfant, il aura pour valeur par défaut <tt class="docutils literal"><span class="pre">Welcome!</span></tt>.</p>
<p>Les templates sont une façon puissante de rendre et d&#8217;organiser le contenu de
votre page. Les templates peuvent tout rendre, des layouts HTML au codes CSS,
ou n&#8217;importe quoi d&#8217;autre que le contrôleur peut avoir besoin de retourner à l&#8217;utilisateur.</p>
<p>Dans le cycle de vie d&#8217;une requête, le template est un outil facultatif. Souvenez
vous que le but de chaque contrôleur est de renvoyer un objet <tt class="docutils literal"><span class="pre">Response</span></tt>.
Le moteur de templates est un outil puissant, bien qu&#8217;optionnel, pour créer le
contenu de cet objet <tt class="docutils literal"><span class="pre">Response</span></tt>.</p>
</div>
</div>
<div class="section" id="la-structure-des-repertoires">
<span id="index-2"></span><h2>La structure des répertoires<a class="headerlink" href="#la-structure-des-repertoires" title="Permalink to this headline">¶</a></h2>
<p>Après seulement quelques courtes sections, vous comprenez déjà la philosophie
derrière la création et le rendu de pages dans Symfony2. Vous avez déjà commencé
à voir comment les projets Symfony2 sont structurés et organisés. A la fin de
cette section, vous saurez où trouver et où mettre les différents types de fichiers
et pourquoi.</p>
<p>Bien qu&#8217;entièrement flexible, chaque <a class="reference internal" href="../glossary.html#term-application"><em class="xref std std-term">application</em></a>
a par défaut la même structure de répertoires basique et recommandée :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">app/</span></tt>: Ce répertoire contient la configuration de l&#8217;application;</li>
<li><tt class="docutils literal"><span class="pre">src/</span></tt>: Tout le code PHP du projet est stocké ici;</li>
<li><tt class="docutils literal"><span class="pre">vendor/</span></tt>: Par convention, toutes les librairies tierces (additionnelles) sont placées ici;</li>
<li><tt class="docutils literal"><span class="pre">web/</span></tt>: Le répertoire racine web qui contient tous les fichiers publiquement accessibles;</li>
</ul>
<div class="section" id="le-repertoire-web">
<h3>Le répertoire Web<a class="headerlink" href="#le-repertoire-web" title="Permalink to this headline">¶</a></h3>
<p>Le répertoire web contient tous les fichiers publics et statiques incluant les
images, les feuilles de style et les javascripts.
Il contient également le <a class="reference internal" href="../glossary.html#term-front-controller"><em class="xref std std-term">front controller</em></a> (contrôleur frontal) :</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// web/app.php</span>
<span class="x">require_once __DIR__.&#39;/../app/bootstrap.php.cache&#39;;</span>
<span class="x">require_once __DIR__.&#39;/../app/AppKernel.php&#39;;</span>

<span class="x">use Symfony\Component\HttpFoundation\Request;</span>

<span class="x">$kernel = new AppKernel(&#39;prod&#39;, false);</span>
<span class="x">$kernel-&gt;loadClassCache();</span>
<span class="x">$kernel-&gt;handle(Request::createFromGlobals())-&gt;send();</span>
</pre></div>
</div>
<p>Le contrôleur frontal (<tt class="docutils literal"><span class="pre">app.php</span></tt> dans cet exemple) est le fichier
exécuté lorsque l&#8217;on appelle une application Symfony2. Son rôle est d&#8217;utiliser une
classe Kernel, <tt class="docutils literal"><span class="pre">AppKernel</span></tt>, pour initialiser l&#8217;application (bootstrap).</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>Avoir un contrôleur frontal signifie des URL différentes et plus flexibles
que dans une application en pur php.
Lorsqu&#8217;on utilise un contrôleur frontal, les URLs sont formatées comme suit :</p>
<blockquote>
<div><div class="highlight-text"><div class="highlight"><pre>http://localhost/app.php/hello/Ryan
</pre></div>
</div>
</div></blockquote>
<p>Le contrôleur frontal, <tt class="docutils literal"><span class="pre">app.php</span></tt>, est exécuté et l&#8217;URL « interne: » <tt class="docutils literal"><span class="pre">/hello/Ryan</span></tt>
est traitée par l&#8217;application en se basant sur la configuration du routage.
En utilisant les règles du module Apache <tt class="docutils literal"><span class="pre">mod_rewrite</span></tt>,
vous pouvez forcer le script <tt class="docutils literal"><span class="pre">app.php</span></tt> à être exécuté sans
avoir besoin de le mentionner dans l&#8217;URL:</p>
<div class="last highlight-python"><pre>.. code-block:: text

http://localhost/hello/Ryan</pre>
</div>
</div>
<p>Les contrôleurs frontaux sont essentiels pour traiter chaque requête.
Cependant, vous aurez rarement besoin de les modifier ou même d&#8217;y penser.
Nous en reparlerons dans la section <a class="reference internal" href="#environnements">Environnements</a> .</p>
</div>
<div class="section" id="le-repertoire-de-l-application-app">
<h3>Le répertoire de l&#8217;application (<tt class="docutils literal"><span class="pre">app</span></tt>)<a class="headerlink" href="#le-repertoire-de-l-application-app" title="Permalink to this headline">¶</a></h3>
<p>Comme nous l&#8217;avons vu dans le contrôleur frontal, la classe <tt class="docutils literal"><span class="pre">AppKernel</span></tt> est le
point d&#8217;entrée principal de l&#8217;application et est chargée de toute la configuration.
De ce fait, elle est stockée dans le répertoire <tt class="docutils literal"><span class="pre">app/</span></tt>.</p>
<p>Cette classe doit implémenter deux méthodes qui définissent tout ce dont Symfony
a besoin de savoir à propos de votre application. Vous n&#8217;avez pas à vous soucier
de ces méthodes en commençant - Symfony les complète pour vous avec des valeurs
par défaut.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">registerBundles()</span></tt>: renvoit un tableau de tous les bundles dont l&#8217;application</li>
</ul>
<p>a besoin pour fonctionner (voir le <a class="reference internal" href="#page-creation-bundles"><em>Le Système de Bundles</em></a>);</p>
<ul>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">registerContainerConfiguration()</span></tt>: Charge le fichier de configuration ressources</dt>
<dd><p class="first last">principal de l&#8217;application (voir la section <a class="reference internal" href="#configuration-de-l-application">Configuration de l&#8217;Application</a>)</p>
</dd>
</dl>
</li>
</ul>
<p>Dans le développement au quotidien, vous utiliserez principalement le répertoire
<tt class="docutils literal"><span class="pre">app/</span></tt> pour modifier les fichiers de configuration et de routage dans le répertoire
<tt class="docutils literal"><span class="pre">app/config</span></tt> (voir <a class="reference internal" href="#configuration-de-l-application">Configuration de l&#8217;Application</a>). <tt class="docutils literal"><span class="pre">app/</span></tt> contient également
le répertoire de cache de l&#8217;application (<tt class="docutils literal"><span class="pre">app/cache</span></tt>), le répertoire des logs
(<tt class="docutils literal"><span class="pre">app/logs</span></tt>) et un répertoire pour les ressources communes à l&#8217;application
entière (<tt class="docutils literal"><span class="pre">app/Resources</span></tt>).
Nous en apprendrons plus sur ces répertoires dans de prochains chapitres.</p>
<div class="sidebar" id="autoloading-introduction-sidebar">
<p class="first sidebar-title">Autoloading</p>
<p>Lorsque Symfony se charge, un fichier spécial - <tt class="docutils literal"><span class="pre">app/autoload.php</span></tt> - est
inclu. Ce fichier s&#8217;occupe de configurer l&#8217;autoloader qui chargera automatiquement
tous vos fichiers depuis le répertoire <tt class="docutils literal"><span class="pre">src/</span></tt> et toutes les librairies tierces
depuis le repertoire <tt class="docutils literal"><span class="pre">vendor/</span></tt>.</p>
<p>Grace à l&#8217;autoloader, vous n&#8217;avez jamais à vous soucier d&#8217;utiliser les instructions
<tt class="docutils literal"><span class="pre">include</span></tt> ou <tt class="docutils literal"><span class="pre">require</span></tt>. Symfony2 se base sur l&#8217;espace de nom (namespace) d&#8217;une
classe pour déterminer son emplacement et l&#8217;inclure automatiquement le fichier à
votre place à l&#8217;instant où vous en avez besoin.</p>
<p>L&#8217;autoloader est déjà configuré pour regarder dans le dossier <tt class="docutils literal"><span class="pre">src/</span></tt> pour chacune
de vos classes PHP. Pour que le chargement automatique fonctionne, le nom de la
classe et le chemin du fichier doivent avoir une structure similaire :</p>
<div class="highlight-text"><div class="highlight"><pre>Nom de classe:
    Acme\HelloBundle\Controller\HelloController
Chemin:
    src/Acme/HelloBundle/Controller/HelloController.php
</pre></div>
</div>
<p class="last">Typiquement, le seul moment où vous devrez vous soucier du fichier <tt class="docutils literal"><span class="pre">app/autoload.php</span></tt>
est quand vous incluerez des librairies tierces dans le repertoire <tt class="docutils literal"><span class="pre">vendor/</span></tt>.
Pour plus d&#8217;informations sur le chargement automatique, voir
:doc: <cite>Comment charger automatiquement des classes&lt;/components/class_loader&gt;</cite>.</p>
</div>
</div>
<div class="section" id="le-repertoire-des-sources-src">
<h3>Le répertoire des sources (<tt class="docutils literal"><span class="pre">src/</span></tt>)<a class="headerlink" href="#le-repertoire-des-sources-src" title="Permalink to this headline">¶</a></h3>
<p>Pour faire simple, le répertoire <tt class="docutils literal"><span class="pre">src/</span></tt> contient tout le code (code PHP, templates,
fichiers de configuration, feuilles de style, etc) qui fait tourner <em>votre</em> application.
En fait en développant, le plus gros du travail sera fait à l&#8217;intérieur d&#8217;un ou
plusieurs bundles que vous créerez dans ce répertoire.</p>
<p>Mais qu&#8217;est-ce qu&#8217;un <a class="reference internal" href="../glossary.html#term-bundle"><em class="xref std std-term">bundle</em></a>?</p>
</div>
</div>
<div class="section" id="le-systeme-de-bundles">
<span id="page-creation-bundles"></span><h2>Le Système de Bundles<a class="headerlink" href="#le-systeme-de-bundles" title="Permalink to this headline">¶</a></h2>
<p>Un bundle est similaire aux plugins que l&#8217;on peut trouver dans d&#8217;autres logiciels,
mais en mieux. La différence clé est que <em>tout</em> est un bundle dans Symfony2, ce qui
inclut le coeur du framework et le code de votre application.
Les bundles sont aux premières loges dans Symfony2. Ils vous offrent la flexibilité
d&#8217;utiliser des fonctionnalités pré-construites packagées dans des <a class="reference external" href="http://symfony2bundles.org/">bundles tiers</a>
ou de distribuer vos propres bundles. Cela rend facile de sélectionner quelles
fonctionnalités activer dans votre application et de les optimiser comme vous voulez.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Alors que vous apprendrez les bases ici, une entrée du cookbook est entièrement
dédiée à l&#8217;organisation et aux bonnes pratiques : <a class="reference internal" href="../cookbook/bundles/best_practices.html"><em>bundles</em></a>.</p>
</div>
<p>Un bundle est simplement un ensemble structuré de fichiers au sein d&#8217;un répertoire
et qui implémentent une fonctionnalité unique. Vous pourrez ainsi créer un
<tt class="docutils literal"><span class="pre">BlogBundle</span></tt>, un <tt class="docutils literal"><span class="pre">ForumBundle</span></tt> ou un bundle pour la gestion des utilisateurs
(beaucoup de ces bundles existent déjà et sont open-source). Chaque répertoire
contient tout ce qui est lié à cette fonctionnalité incluant les fichiers PHP,
les templates, les feuilles de style, le javascript, les tests et tout le reste.
Chaque aspect d&#8217;une fonctionnalité se trouve dans le bundle, et chaque fonctionnalité
aussi.</p>
<p>Une application est faite de bundles qui sont définis dans la méthode <tt class="docutils literal"><span class="pre">registerBundles()</span></tt>
de la classe <tt class="docutils literal"><span class="pre">AppKernel</span></tt> :</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// app/AppKernel.php</span>
<span class="x">public function registerBundles()</span>
<span class="x">{</span>
<span class="x">    $bundles = array(</span>
<span class="x">        new Symfony\Bundle\FrameworkBundle\FrameworkBundle(),</span>
<span class="x">        new Symfony\Bundle\SecurityBundle\SecurityBundle(),</span>
<span class="x">        new Symfony\Bundle\TwigBundle\TwigBundle(),</span>
<span class="x">        new Symfony\Bundle\MonologBundle\MonologBundle(),</span>
<span class="x">        new Symfony\Bundle\SwiftmailerBundle\SwiftmailerBundle(),</span>
<span class="x">        new Symfony\Bundle\DoctrineBundle\DoctrineBundle(),</span>
<span class="x">        new Symfony\Bundle\AsseticBundle\AsseticBundle(),</span>
<span class="x">        new Sensio\Bundle\FrameworkExtraBundle\SensioFrameworkExtraBundle(),</span>
<span class="x">        new JMS\SecurityExtraBundle\JMSSecurityExtraBundle(),</span>
<span class="x">    );</span>

<span class="x">    if (in_array($this-&gt;getEnvironment(), array(&#39;dev&#39;, &#39;test&#39;))) {</span>
<span class="x">        $bundles[] = new Acme\DemoBundle\AcmeDemoBundle();</span>
<span class="x">        $bundles[] = new Symfony\Bundle\WebProfilerBundle\WebProfilerBundle();</span>
<span class="x">        $bundles[] = new Sensio\Bundle\DistributionBundle\SensioDistributionBundle();</span>
<span class="x">        $bundles[] = new Sensio\Bundle\GeneratorBundle\SensioGeneratorBundle();</span>
<span class="x">    }</span>

<span class="x">    return $bundles;</span>
<span class="x">}</span>
</pre></div>
</div>
<p>Avec la méthode <tt class="docutils literal"><span class="pre">registerBundles()</span></tt>, vous avez le contrôle totale des bundles
qui sont utilisés dans votre application (incluant les bundles du coeur de Symfony).</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Un bundle peut se trouver <em>n&#8217;importe où</em> pour peu qu&#8217;il puisse être chargé (via
l&#8217;autoloader configuré à <tt class="docutils literal"><span class="pre">app/autoload.php</span></tt>).</p>
</div>
<div class="section" id="creer-un-bundle">
<h3>Créer un Bundle<a class="headerlink" href="#creer-un-bundle" title="Permalink to this headline">¶</a></h3>
<p>La Symfony Standard Edition est fournie avec une tâche qui crée un bundle
totalement fonctionnel pour vous. Bien sûr, vous pouvez tout aussi facilement créer un
bundle à la main.</p>
<p>Pour vous montrer à quel point le système de bundle est simple, créeons un nouveau
bundle appelé <tt class="docutils literal"><span class="pre">AcmeTestBundle</span></tt> et activons le.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">La partie <tt class="docutils literal"><span class="pre">Acme</span></tt> est juste un nom idiot qui peut être remplacé par un autre
nom qui vous représente ou votre entreprise (ex <tt class="docutils literal"><span class="pre">ABCTestBundle</span></tt> pour une
entreprise nommée <tt class="docutils literal"><span class="pre">ABC</span></tt>).</p>
</div>
<p>Commencez par créer un répertoire <tt class="docutils literal"><span class="pre">src/Acme/TestBundle/</span></tt> et ajoutez y un nouveau
fichier appelé <tt class="docutils literal"><span class="pre">AcmeTestBundle.php</span></tt> :</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// src/Acme/TestBundle/AcmeTestBundle.php</span>
<span class="x">namespace Acme\TestBundle;</span>

<span class="x">use Symfony\Component\HttpKernel\Bundle\Bundle;</span>

<span class="x">class AcmeTestBundle extends Bundle</span>
<span class="x">{</span>
<span class="x">}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Le nom <tt class="docutils literal"><span class="pre">AcmeTestBundle</span></tt> suit les <a class="reference internal" href="../cookbook/bundles/best_practices.html#bundles-naming-conventions"><em>conventions de nommage des bundles</em></a>.
Vous pourriez aussi choisir de raccourcir le nom du bundle pour <tt class="docutils literal"><span class="pre">TestBundle</span></tt>
en nommant sa classe <tt class="docutils literal"><span class="pre">TestBundle</span></tt> (et en appelant le fichier <tt class="docutils literal"><span class="pre">TestBundle.php</span></tt>).</p>
</div>
<p>Cette classe vide est la seule pièce dont vous avez besoin afin de créer un nouveau
bundle. Bien que souvent vide, cette classe est très puissante et peut être utilisée
pour personnaliser le comportement du bundle.</p>
<p>Maintenant que vous avez créé le bundle, activez le via la classe <tt class="docutils literal"><span class="pre">AppKernel</span></tt> :</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// app/AppKernel.php</span>
<span class="x">public function registerBundles()</span>
<span class="x">{</span>
<span class="x">    $bundles = array(</span>
<span class="x">        // ...</span>

<span class="x">        // register your bundles</span>
<span class="x">        new Acme\TestBundle\AcmeTestBundle(),</span>
<span class="x">    );</span>
<span class="x">    // ...</span>

<span class="x">    return $bundles;</span>
<span class="x">}</span>
</pre></div>
</div>
<p>Et même s&#8217;il ne fait encore rien de spécial, <tt class="docutils literal"><span class="pre">AcmeTestBundle</span></tt> est prêt à être utilisé.</p>
<p>Et bien que ce soit très facile, Symfony fournit également une commande qui génère
un squelette de bundle de base :</p>
<div class="highlight-bash"><div class="highlight"><pre>php app/console generate:bundle --namespace<span class="o">=</span>Acme/TestBundle
</pre></div>
</div>
<p>Le squelette du bundle contient un contrôleur de base, un template et une configuration
de routage qui peuvent être personnalisés. Vous en apprendrez plus sur les commandes
Symfony2 plus tard.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Peu importe que vous créiez un bundle ou que vous utilisiez un bundle tiers,
assurez vous toujours qu&#8217;il soit activé dans <tt class="docutils literal"><span class="pre">registerBundles()</span></tt>. Si vous
utilisez la commande <tt class="docutils literal"><span class="pre">generate:bundle</span></tt>, c&#8217;est fait automatiquement pour vous.</p>
</div>
</div>
<div class="section" id="structure-des-repertoires-des-bundles">
<h3>Structure des répertoires des bundles<a class="headerlink" href="#structure-des-repertoires-des-bundles" title="Permalink to this headline">¶</a></h3>
<p>La structure des répertoire d&#8217;un bundle est simple et flexible. Par défaut le système
de bundle suit un ensemblde de conventions qui aident à garder le code homogène
entre tous les bundles Symfony2. Jetez un oeil au <tt class="docutils literal"><span class="pre">AcmeHelloBundle</span></tt>, car il contient
certains des éléments les plus communs d&#8217;un bundle :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Controller/</span></tt> contient les contrôleurs du bundle (ex <tt class="docutils literal"><span class="pre">HelloController.php</span></tt>);</li>
<li><tt class="docutils literal"><span class="pre">Resources/config/</span></tt> contient la configuration, notamment la configuration
de routage (ex <tt class="docutils literal"><span class="pre">routing.yml</span></tt>);</li>
<li><tt class="docutils literal"><span class="pre">Resources/views/</span></tt> contient les templates organisés par nom de contrôleur (ex
<tt class="docutils literal"><span class="pre">Hello/index.html.twig</span></tt>);</li>
<li><tt class="docutils literal"><span class="pre">Resources/public/</span></tt> contient les ressources web (images, feuilles de style, etc)
et sont copiées ou liées par un lien symbolique dans le répertoire de projet <tt class="docutils literal"><span class="pre">web/</span></tt>
grâce à la commande <tt class="docutils literal"><span class="pre">assets:install</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">Tests/</span></tt> contient tous les tests du bundle.</li>
</ul>
<p>Un bundle peut être très petit ou très grand selon la fonctionnalité qu&#8217;il implémente.
Il contient seulement les fichiers dont vous avez besoin et rien d&#8217;autre.</p>
<p>En parcourant le Book, vous apprendrez comment persister des objets en base de données,
créer et valider des formulaires, créer des traductions pour votre application,
écrire des tests et bien plus encore. Chacun de ces aspect a sa propre place et
son propre rôle au sein d&#8217;un bundle.</p>
</div>
</div>
<div class="section" id="configuration-de-l-application">
<h2>Configuration de l&#8217;Application<a class="headerlink" href="#configuration-de-l-application" title="Permalink to this headline">¶</a></h2>
<p>Une application consiste en un ensemble de bundles qui représente toutes les
fonctionnalités et capacités de votre application. Chaque bundle peut être
personnalisé via les fichiers de configuration écrits en YAML, XML ou PHP. Par
défaut, la configuration principale se situe dans le répertoire <tt class="docutils literal"><span class="pre">app/config/</span></tt>
et se trouve dans un fichier appelé <tt class="docutils literal"><span class="pre">config.yml</span></tt>, <tt class="docutils literal"><span class="pre">config.xml</span></tt> ou <tt class="docutils literal"><span class="pre">config.php</span></tt>
selon le format que vous préférez :</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><pre># app/config/config.yml
imports:
    - { resource: parameters.ini }
    - { resource: security.yml }

framework:
    secret:          %secret%
    charset:         UTF-8
    router:          { resource: "%kernel.root_dir%/config/routing.yml" }
    #...

# Twig Configuration
twig:
    debug:            %kernel.debug%
    strict_variables: %kernel.debug%

# ...</pre>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="nt">&lt;imports&gt;</span>
    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;parameters.ini&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;security.yml&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/imports&gt;</span>

<span class="nt">&lt;framework:config</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span> <span class="na">secret=</span><span class="s">&quot;%secret%&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;framework:router</span> <span class="na">resource=</span><span class="s">&quot;%kernel.root_dir%/config/routing.xml&quot;</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- ... --&gt;</span>
<span class="nt">&lt;/framework:config&gt;</span>

<span class="c">&lt;!-- Twig Configuration --&gt;</span>
<span class="nt">&lt;twig:config</span> <span class="na">debug=</span><span class="s">&quot;%kernel.debug%&quot;</span> <span class="na">strict-variables=</span><span class="s">&quot;%kernel.debug%&quot;</span> <span class="nt">/&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">$this-&gt;import(&#39;parameters.ini&#39;);</span>
<span class="x">$this-&gt;import(&#39;security.yml&#39;);</span>

<span class="x">$container-&gt;loadFromExtension(&#39;framework&#39;, array(</span>
<span class="x">    &#39;secret&#39;          =&gt; &#39;%secret%&#39;,</span>
<span class="x">    &#39;charset&#39;         =&gt; &#39;UTF-8&#39;,</span>
<span class="x">    &#39;router&#39;          =&gt; array(&#39;resource&#39; =&gt; &#39;%kernel.root_dir%/config/routing.php&#39;),</span>
<span class="x">    // ...</span>
<span class="x">));</span>

<span class="x">// Twig Configuration</span>
<span class="x">$container-&gt;loadFromExtension(&#39;twig&#39;, array(</span>
<span class="x">    &#39;debug&#39;            =&gt; &#39;%kernel.debug%&#39;,</span>
<span class="x">    &#39;strict_variables&#39; =&gt; &#39;%kernel.debug%&#39;,</span>
<span class="x">));</span>

<span class="x">// ...</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Vous apprendrez exactement comment charger chaque fichier/format dans la prochaine
section <a class="reference internal" href="#environnements">Environnements</a>.</p>
</div>
<p>Chaque entrée de niveau zéro comme <tt class="docutils literal"><span class="pre">framework</span></tt> ou <tt class="docutils literal"><span class="pre">twig</span></tt> définit la configuration
d&#8217;un bundle particulier. Par exemple, la clé <tt class="docutils literal"><span class="pre">framework</span></tt> définit la configuration
du bundle du noyau de Symfony <tt class="docutils literal"><span class="pre">FrameworkBundle</span></tt> et inclut la configuration pour le
routage, les templates et d&#8217;autre fonctionnalités du noyau.</p>
<p>Pour le moment, ne vous inquiétez pas des options de configuration spécifiques à
chaque section. Le fichier de configuration a des valeurs par défaut optimisées.
Au fur et à mesure que vous lirez et explorerez chaque recoin de Symfony2, vous
en apprendrez plus sur les options de configuration spécifiques à chaque fonctionnalité.</p>
<div class="sidebar">
<p class="first sidebar-title">Formats de Configuration</p>
<p>A travers les chapitres, tous les exemples de configuration seront montrés
dans les trois formats (YAML, XML and PHP). Chacun a ses avantages et ses
inconvénients. Le choix vous appartient :</p>
<ul class="last simple">
<li><em>YAML</em>: Simple, propre et lisible;</li>
<li><em>XML</em>: Plus puissant que YAML parfois et support de l&#8217;autocomplétion sur les IDE;</li>
<li><em>PHP</em>: Très puissant mais moins lisible que les formats de configuration standards.</li>
</ul>
</div>
</div>
<div class="section" id="environnements">
<span id="environments-summary"></span><span id="index-3"></span><h2>Environnements<a class="headerlink" href="#environnements" title="Permalink to this headline">¶</a></h2>
<p>Une application peut tourner sous différents environnements. Les différents
environnements partagent le même code PHP (exepté celui du contrôleur frontal),
mais utilisent une configuration différente. Par exemple, l&#8217;environnement de <tt class="docutils literal"><span class="pre">dev</span></tt>
enregistrera les erreurs et les warnings dans les logs, tandis que l&#8217;environnement
de <tt class="docutils literal"><span class="pre">prod</span></tt> enregistrera seulement les erreurs. Certains fichiers sont reconstruits
à chaque requête en environnement de <tt class="docutils literal"><span class="pre">dev</span></tt> (pour rendre le développement plus pratique),
mais sont mis en cache en environnement de <tt class="docutils literal"><span class="pre">prod</span></tt>. Tous les environnements peuvent
tourner ensembles sur la même machine et éxécutent la même application.</p>
<p>Un projet Symfony2 commence en général avec 3 environnements (<tt class="docutils literal"><span class="pre">dev</span></tt>, <tt class="docutils literal"><span class="pre">test</span></tt>
et <tt class="docutils literal"><span class="pre">prod</span></tt>), la création d&#8217;un nouvel environnement étant très facile. Vous pouvez
voir l&#8217;application sous différents environnement en changeant simplement le contrôleur
frontal dans votre navigateur. Pour voir l&#8217;application en environnement de <tt class="docutils literal"><span class="pre">dev</span></tt>,
accédez à l&#8217;application via le contrôleur frontal de développement :</p>
<div class="highlight-text"><div class="highlight"><pre>http://localhost/app_dev.php/hello/Ryan
</pre></div>
</div>
<p>Si vous désirez voir comment votre application se comporterait en environnement
de production, appelez le contrôleur frontal de <tt class="docutils literal"><span class="pre">prod</span></tt> :</p>
<div class="highlight-text"><div class="highlight"><pre>http://localhost/app.php/hello/Ryan
</pre></div>
</div>
<p>Puisque l&#8217;environnement de <tt class="docutils literal"><span class="pre">prod</span></tt> est optimisé pour la vitesse; la configuration,
les routes et les templates Twig sont compilés en classes PHP et cachés.
Quand vous voudrez voir des changements en environnement de <tt class="docutils literal"><span class="pre">prod</span></tt>, vous aurez
besoin de nettoyer ces fichiers cachés afin de permettre leur regénération :</p>
<div class="highlight-bash"><div class="highlight"><pre>php app/console cache:clear --env<span class="o">=</span>prod --no-debug
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Si vous ouvrez le fichier <tt class="docutils literal"><span class="pre">web/app.php</span></tt>, vous trouverez ce qui est explicitement
configuré en environnement de <tt class="docutils literal"><span class="pre">prod</span></tt> :</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">$kernel = new AppKernel(&#39;prod&#39;, false);</span>
</pre></div>
</div>
<p class="last">Vous pouvez créer un nouveau contrôleur frontal pour un nouvel environnement
en copiant ce fichier et en changeant <tt class="docutils literal"><span class="pre">prod</span></tt> par une autre valeur.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">L&#8217;environnement de  <tt class="docutils literal"><span class="pre">test</span></tt> est utilisé pour lancer des tests automatiques et
n&#8217;est pas accessible directement dans un navigateur. Lisez le chapitre <a class="reference internal" href="testing.html"><em>tests</em></a>
pour plus de détails.</p>
</div>
<div class="section" id="configuration-d-environnement">
<span id="index-4"></span><h3>Configuration d&#8217;Environnement<a class="headerlink" href="#configuration-d-environnement" title="Permalink to this headline">¶</a></h3>
<p>La classe <tt class="docutils literal"><span class="pre">AppKernel</span></tt> est responsable du chargement du fichier de configuration
que vous avez choisi :</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// app/AppKernel.php</span>
<span class="x">public function registerContainerConfiguration(LoaderInterface $loader)</span>
<span class="x">{</span>
<span class="x">    $loader-&gt;load(__DIR__.&#39;/config/config_&#39;.$this-&gt;getEnvironment().&#39;.yml&#39;);</span>
<span class="x">}</span>
</pre></div>
</div>
<p>Vous savez déjà que l&#8217;extension <tt class="docutils literal"><span class="pre">.yml</span></tt> peut être changée en <tt class="docutils literal"><span class="pre">.xml</span></tt> ou
<tt class="docutils literal"><span class="pre">.php</span></tt> si vous préférez utiliser le format XML ou PHP pour écrire votre configuration.
Notez également que chaque environnement charge sa propre configuration. Considerez
le fichier de configuration pour l&#8217;environnement de <tt class="docutils literal"><span class="pre">dev</span></tt>.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config_dev.yml</span>
<span class="l-Scalar-Plain">imports</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="p-Indicator">{</span> <span class="nv">resource</span><span class="p-Indicator">:</span> <span class="nv">config.yml</span> <span class="p-Indicator">}</span>

<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">router</span><span class="p-Indicator">:</span>   <span class="p-Indicator">{</span> <span class="nv">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;%kernel.root_dir%/config/routing_dev.yml&quot;</span> <span class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">profiler</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">only_exceptions</span><span class="p-Indicator">:</span> <span class="nv">false</span> <span class="p-Indicator">}</span>

<span class="c1"># ...</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config_dev.xml --&gt;</span>
<span class="nt">&lt;imports&gt;</span>
    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;config.xml&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/imports&gt;</span>

<span class="nt">&lt;framework:config&gt;</span>
    <span class="nt">&lt;framework:router</span> <span class="na">resource=</span><span class="s">&quot;%kernel.root_dir%/config/routing_dev.xml&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;framework:profiler</span> <span class="na">only-exceptions=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/framework:config&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">// app/config/config_dev.php</span>
<span class="x">$loader-&gt;import(&#39;config.php&#39;);</span>

<span class="x">$container-&gt;loadFromExtension(&#39;framework&#39;, array(</span>
<span class="x">    &#39;router&#39;   =&gt; array(&#39;resource&#39; =&gt; &#39;%kernel.root_dir%/config/routing_dev.php&#39;),</span>
<span class="x">    &#39;profiler&#39; =&gt; array(&#39;only-exceptions&#39; =&gt; false),</span>
<span class="x">));</span>

<span class="x">// ...</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>La clé <tt class="docutils literal"><span class="pre">imports</span></tt> est similaire à l&#8217;instruction PHP <tt class="docutils literal"><span class="pre">include</span></tt> et garantit
que le fichier de configuration principal (<tt class="docutils literal"><span class="pre">config.yml</span></tt>) est chargé en premier.
Le reste du fichier modifie la configuration par défaut pour une augmentation
des logs et d&#8217;autres paramètres relatifs à un environnement de développement.</p>
<p>Les environnements de <tt class="docutils literal"><span class="pre">prod</span></tt> et de <tt class="docutils literal"><span class="pre">test</span></tt> suivent le même modèle : chaque
environnement importe le fichier de configuration de base et modifie ses valeurs
pour s&#8217;adapter aux besoins spécifiques à l&#8217;environnement. C&#8217;est juste une convention,
mais elle vous permet de réutiliser la plupart de la configuration et d&#8217;en modifier une
partie en fonction de l&#8217;environnement.</p>
</div>
</div>
<div class="section" id="resume">
<h2>Résumé<a class="headerlink" href="#resume" title="Permalink to this headline">¶</a></h2>
<p>Félicitations ! Vous avez maintenant eu un aperçu de chaque aspect fondamental de
Symfony2 et avez découvert sa facilité et sa flexibilité. Et même s&#8217;il y a encore
<em>beaucoup</em> de fonctionnalité à découvrir, gardez les principes de base suivants
en tête :</p>
<ul class="simple">
<li>créer une page est un processus en trois étapes impliquant une <strong>route</strong>, un <strong>contrôleur</strong>
et (optionnellement) un <strong>template</strong>.</li>
<li>chaque projet contient juste quelques répertoires principaux : <tt class="docutils literal"><span class="pre">web/</span></tt> (ressources
web et contrôleurs frontaux), <tt class="docutils literal"><span class="pre">app/</span></tt> (configuration), <tt class="docutils literal"><span class="pre">src/</span></tt> (vos bundles),
et <tt class="docutils literal"><span class="pre">vendor/</span></tt> (librairies tierces) (il y a aussi un répertoire <tt class="docutils literal"><span class="pre">bin/</span></tt> qui est utilisé
pour la mise à jour des librairies vendors);</li>
<li>chaque fonctionnalité de Symfony2 (incluant le noyau du framework) est organisée
dans un <em>bundle</em>, qui est un ensemble structuré de fichiers pour cette fonctionnalité;</li>
<li>la <strong>configuration</strong> de chaque bundle se trouve dans le répertoire <tt class="docutils literal"><span class="pre">app/config</span></tt>
et peut être écrite en YAML, XML ou PHP;</li>
<li>chaque <strong>environnement</strong> est accessible via des contrôleurs frontaux différents
(ex <tt class="docutils literal"><span class="pre">app.php</span></tt> et <tt class="docutils literal"><span class="pre">app_dev.php</span></tt>) et charge un fichier de configuration différent.</li>
</ul>
<p>A partir de maintenant, chaque chapitre vous introduira de plus en plus d&#8217;outils
puissants et de concepts avancés. Plus vous connaitrez Symfony2, plus vous apprécierez
la flexibilité de son architecture et le pouvoir qu&#8217;il vous donne pour développer
rapidement des applications.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">La création de pages avec Symfony2</a><ul>
<li><a class="reference internal" href="#la-page-hello-symfony">La page « Hello Symfony ! »</a><ul>
<li><a class="reference internal" href="#avant-de-commencer-creez-un-bundle">Avant de commencer : Créez un Bundle</a></li>
<li><a class="reference internal" href="#etape-1-creez-la-route">Etape 1 : Créez la Route</a></li>
<li><a class="reference internal" href="#etape-2-creez-le-controleur">Etape 2 : Créez le Contrôleur</a></li>
<li><a class="reference internal" href="#etape-3-facultative-creez-le-template">Etape 3 facultative : Créez le Template</a></li>
</ul>
</li>
<li><a class="reference internal" href="#la-structure-des-repertoires">La structure des répertoires</a><ul>
<li><a class="reference internal" href="#le-repertoire-web">Le répertoire Web</a></li>
<li><a class="reference internal" href="#le-repertoire-de-l-application-app">Le répertoire de l&#8217;application (<tt class="docutils literal"><span class="pre">app</span></tt>)</a></li>
<li><a class="reference internal" href="#le-repertoire-des-sources-src">Le répertoire des sources (<tt class="docutils literal"><span class="pre">src/</span></tt>)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#le-systeme-de-bundles">Le Système de Bundles</a><ul>
<li><a class="reference internal" href="#creer-un-bundle">Créer un Bundle</a></li>
<li><a class="reference internal" href="#structure-des-repertoires-des-bundles">Structure des répertoires des bundles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-de-l-application">Configuration de l&#8217;Application</a></li>
<li><a class="reference internal" href="#environnements">Environnements</a><ul>
<li><a class="reference internal" href="#configuration-d-environnement">Configuration d&#8217;Environnement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resume">Résumé</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installer et Configurer Symfony</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="controller.html"
                        title="next chapter">Le Contrôleur</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/book/page_creation.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="controller.html" title="Le Contrôleur"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installer et Configurer Symfony"
             >previous</a> |</li>
        <li><a href="../index.html">sf2doc 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >Book</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, sf2.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>